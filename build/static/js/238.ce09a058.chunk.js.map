{"version":3,"sources":["helpers/post.js","helpers/put.js","views/SMS/Comission/CommissionPrice/AddCommissionPriceInformation.js","views/SMS/Comission/CommissionPrice/ShowCommissionPriceListData.js","views/SMS/Comission/CommissionPrice/CommissionPriceList.js"],"names":["AuthStr","localStorage","getItem","url","body","axios","post","rootUrl","headers","res","response","status","history","push","Axios","put","AddCommissionPriceInformation","props","id","handleRange","handleFrom","handleTo","handleCommission","rangeName","from","setRangeName","to","setFrom","handleSubmit","setTo","commission","data","setCommission","className","onSubmit","type","name","value","FormGroup","row","Col","md","Input","onChange","required","Button","color","ShowCommissionPriceListData","list","toggleUpdate","toggleDanger","deleteModal","setDeleteModal","confirmDelete","Table","style","textAlign","map","ls","i","key","priceRangeName","rangeFrom","rangeTo","commissionAmount","width","ButtonGroup","variant","onClick","Modal","isOpen","toggle","ModalBody","ModalFooter","CommissionPriceList","useParams","useHistory","useState","success","setSuccess","setList","setData","delData","setDelData","addToast","useToasts","useEffect","get","then","Card","CardHeader","CardBody","e","target","event","preventDefault","subData","FormData","message","appearance","autoDismiss","remove"],"mappings":";o8MAKA,IAAMA,EAAUC,aAAaC,QAAQ,S,4CAErC,WAAoBC,GAApB,8FAAyBC,EAAzB,+BAAgC,GAAhC,+BAAgD,GAAhD,kBAEsBC,IAAMC,KAAN,UAAcC,KAAd,OAAwBJ,GAAOC,EAAM,CACrDI,QAAS,CACP,cAAiBR,KAJzB,cAEUS,EAFV,gBAOiBA,EAPjB,gFASoC,OAA5B,2CAAOC,gBAAP,eAAiBC,SACnBC,IAAQC,KAAK,QAVnB,gE,sBAiBeP,I,o6MCnBf,IAAMN,EAAUC,aAAaC,QAAQ,S,4CACrC,WAAmBC,GAAnB,4FAAwBC,EAAxB,+BAA+B,GAA/B,+BAA+C,GAA/C,kBAEsBU,IAAMC,IAAN,UAAaR,KAAb,OAAuBJ,GAAOC,EAAM,CACpDI,QAAS,CACP,cAAiBR,KAJzB,cAEUS,EAFV,gBAOiBA,EAPjB,gFASkC,MAA1B,KAAMC,SAASC,QACjBC,IAAQC,KAAK,QAVnB,gE,sBAiBeE,I,oOCsIAC,EApJuB,SAACC,GAEnC,IAAOC,EAA4JD,EAA5JC,GAAIC,EAAwJF,EAAxJE,YAAaC,EAA2IH,EAA3IG,WAAYC,EAA+HJ,EAA/HI,SAAUC,EAAqHL,EAArHK,iBAAkBC,EAAmGN,EAAnGM,UAAyBC,GAA0EP,EAAxFQ,aAAwFR,EAA1EO,MAAeE,GAA2DT,EAApEU,QAAoEV,EAA3DS,IAAUE,GAAiDX,EAAvDY,MAAuDZ,EAAjDW,cAAcE,EAAmCb,EAAnCa,WAA2BC,GAAQd,EAAvBe,cAAuBf,EAARc,MAW3J,OACI,6BAEgB,yBAAKE,UAAU,QACP,0BAAMA,UAAU,uBAAhB,+BAGR,0BAAOC,SAAUN,IAGb,OAACG,QAAD,IAACA,OAAD,EAACA,EAAMb,IACP,2BACAiB,KAAK,SACLC,KAAK,KACLlB,GAAG,KACHmB,MAAK,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAMb,KAGb,KAGJ,2BACAiB,KAAK,SACLC,KAAK,oBACLlB,GAAG,oBACHmB,MAAOnB,IAGP,kBAACoB,EAAA,EAAD,CAAWC,KAAG,EAACN,UAAU,mCACzB,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kDACiB,0BAAMR,UAAU,kBAGjC,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kBAACC,EAAA,EAAD,CACAP,KAAK,OACLC,KAAK,iBACLlB,GAAG,iBACHmB,MAAOd,EACPoB,SAAUxB,EAGVyB,UAAQ,MAOR,kBAACN,EAAA,EAAD,CAAWC,KAAG,EAACN,UAAU,mCACzB,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,oDACmB,0BAAMR,UAAU,kBAGnC,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kBAACC,EAAA,EAAD,CACAP,KAAK,OACLC,KAAK,YACLlB,GAAG,YACHmB,MAAOb,EACPmB,SAAUvB,EAEVwB,UAAQ,MAOR,kBAACN,EAAA,EAAD,CAAWC,KAAG,EAACN,UAAU,mCACzB,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kDACiB,0BAAMR,UAAU,kBAGjC,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kBAACC,EAAA,EAAD,CACAP,KAAK,OACLC,KAAK,UACLlB,GAAG,UACHmB,MAAOX,EACPiB,SAAUtB,EAEVuB,UAAQ,MAOR,kBAACN,EAAA,EAAD,CAAWC,KAAG,EAACN,UAAU,mCACzB,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,mDACkB,0BAAMR,UAAU,kBAGlC,kBAACO,EAAA,EAAD,CAAKC,GAAG,KACR,kBAACC,EAAA,EAAD,CACAP,KAAK,OACLC,KAAK,mBACLlB,GAAG,mBACHmB,MAAOP,EACNa,SAAUrB,EAEXsB,UAAQ,MAOR,yBAAKX,UAAU,mCAGb,6BACA,kBAACY,EAAA,EAAD,CAAQC,MAAM,UAAUX,KAAK,UAA7B,e,6CCrBXY,EA7GqB,SAAC9B,GAEjC,IAAO+B,EAAgF/B,EAAhF+B,KAAMC,EAA0EhC,EAA1EgC,aAAcC,EAA4DjC,EAA5DiC,aAAcC,EAA8ClC,EAA9CkC,YAAaC,EAAiCnC,EAAjCmC,eAAgBC,EAAiBpC,EAAjBoC,cAGtE,OACI,6BAEY,yBAAKpB,UAAU,QACH,0BAAMA,UAAU,uBAAhB,0BAGR,kBAACqB,EAAA,EAAD,CAAOrB,UAAU,2BACrB,2BAAOA,UAAU,iBACjB,wBAAIsB,MAAO,CAAEC,UAAW,WAExB,gDACC,4CACA,0CACA,0CACA,wCAGD,sCACCR,QADD,IACCA,OADD,EACCA,EAAMS,KAAI,SAACC,EAAIC,GAAL,OACX,wBAAIC,IAAKD,EAAGJ,MAAO,CAAEC,UAAW,WAE9B,mCACGE,QADH,IACGA,OADH,EACGA,EAAIG,gBAEP,mCACGH,QADH,IACGA,OADH,EACGA,EAAII,WAEP,mCACGJ,QADH,IACGA,OADH,EACGA,EAAIK,SAEP,mCACGL,QADH,IACGA,OADH,EACGA,EAAIM,kBAIP,wBAAIT,MAAO,CAAEU,MAAO,OAAShC,UAAU,eACrC,kBAACiC,EAAA,EAAD,CAAaC,QAAQ,QAUjB,kBAACtB,EAAA,EAAD,CAAQZ,UAAU,cAAca,MAAM,UAAUsB,QAAS,kBAAInB,EAAaS,KAC1E,uBAAGzB,UAAU,iBAKb,kBAACY,EAAA,EAAD,CAAQZ,UAAU,cAAca,MAAM,SAASsB,QAAS,kBAAIlB,EAAaQ,KACzE,uBAAGzB,UAAU,uBAyBjB,kBAACoC,EAAA,EAAD,CAAOC,OAAQnB,EAAaoB,OAAQ,kBAAMnB,GAAgBD,IAAclB,UAAU,cAClF,kBAACuC,EAAA,EAAD,KACE,8FAGF,kBAACC,EAAA,EAAD,KACE,kBAAC5B,EAAA,EAAD,CAASC,MAAM,SAASsB,QAASf,GAAjC,OACA,kBAACR,EAAA,EAAD,CAAQuB,QAAS,kBAAMhB,GAAe,KAAtC,iBCgHXsB,UAxMa,WAExB,IAAOxD,EAAMyD,cAANzD,GACDN,EAAUgE,cAChB,EAAiCC,mBAAS,IAA1C,mBAAOtD,EAAP,KAAiBE,EAAjB,KACA,EAAuBoD,mBAAS,IAAhC,mBAAOrD,EAAP,KAAYG,EAAZ,KACA,EAAmBkD,mBAAS,IAA5B,mBAAOnD,EAAP,KAAUG,EAAV,KACA,EAAmCgD,mBAAS,IAA5C,mBAAO/C,EAAP,KAAkBE,EAAlB,KACA,EAA6B6C,oBAAS,GAAtC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAuBF,mBAAS,IAAhC,mBAAO7B,EAAP,KAAYgC,EAAZ,KACA,EAAuBH,mBAAS,IAAhC,mBAAO9C,EAAP,KAAYkD,EAAZ,KACA,EAA6BJ,mBAAS,IAAtC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAAqCN,oBAAS,GAA9C,mBAAO1B,EAAP,KAAmBC,EAAnB,KAEOgC,EAAYC,sBAAZD,SAEPE,qBAAU,WAENC,YAAI,yBAAD,OAA0BrE,IAC5BsE,MAAK,SAAA/E,GAEFuE,EAAQvE,QAGd,CAACqE,IAwGH,OACI,6BAEI,kBAACW,EAAA,EAAD,CAAMxD,UAAU,gBACd,kBAACyD,EAAA,EAAD,CAAYzD,UAAU,eACpB,wBAAIA,UAAU,cAAd,yBACA,yBAAKA,UAAU,4BACb,0BAAMA,UAAU,aAAamC,QA7GnB,WACpBxD,EAAQC,KAAK,OA6GA,IACD,uBAAGoB,UAAU,6BAFf,yBAQN,kBAACwD,EAAA,EAAD,KAEI,kBAACE,EAAA,EAAD,KAEI,yBAAK1D,UAAU,OAEX,yBAAKA,UAAU,YACX,kBAAC,EAAD,CACAf,GAAIA,EACJC,YA1HJ,SAACyE,GACjBnE,EAAamE,EAAEC,OAAOxD,QA0HFjB,WAxHL,SAACwE,GAChBjE,EAAQiE,EAAEC,OAAOxD,QAwHGhB,SAtHP,SAACuE,GACd/D,EAAM+D,EAAEC,OAAOxD,QAsHKf,iBApHC,SAACsE,GACtB5D,EAAc4D,EAAEC,OAAOxD,QAoHHd,UAAWA,EACXE,aAAcA,EACdD,KAAMA,EACNG,QAASA,EACTD,GAAIA,EACJG,MAAOA,EACPD,aAjFH,SAACkE,GAElBA,EAAMC,iBAEN,IAAMC,EAAU,IAAIC,SAASH,EAAMD,QAEhC9D,EAAKb,GAEJH,YAAI,yBAAyBiF,GAC5BR,MAAK,SAAA/E,GACoB,IAAD,EAAJ,MAAX,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKE,UACJyE,EAAQ,OAAC3E,QAAD,IAACA,GAAD,UAACA,EAAKsB,YAAN,aAAC,EAAWmE,QAAQ,CACxBC,WAAW,UACXC,aAAa,IAEjB3E,EAAa,IACbE,EAAQ,IACRE,EAAM,IACNG,EAAc,IACdiD,EAAQ,IACRF,GAAYD,OAQpBxE,YAAK,yBAAyB0F,GACjCR,MAAK,SAAA/E,GACoB,IAAD,EAAJ,MAAX,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKE,UACJyE,EAAQ,OAAC3E,QAAD,IAACA,GAAD,UAACA,EAAKsB,YAAN,aAAC,EAAWmE,QAAQ,CACxBC,WAAY,UACZC,aAAa,IAEjB3E,EAAa,IACbE,EAAQ,IACRE,EAAM,IACNG,EAAc,IACd+C,GAAYD,QA2CAhD,WAAYA,EACZE,cAAeA,EACfD,KAAMA,KAUV,yBAAKE,UAAU,YAEd,kBAAC,EAAD,CACAe,KAAMA,EACNC,aAjHA,SAAClB,GAElBkD,EAAQlD,GACRN,EAAY,OAACM,QAAD,IAACA,OAAD,EAACA,EAAM8B,gBACnBlC,EAAO,OAACI,QAAD,IAACA,OAAD,EAACA,EAAM+B,WACdjC,EAAK,OAACE,QAAD,IAACA,OAAD,EAACA,EAAMgC,SACZ/B,EAAa,OAACD,QAAD,IAACA,OAAD,EAACA,EAAMiC,mBA4GHd,aAzIA,SAACnB,GAClBoD,EAAWpD,GACXqB,GAAe,IAwIED,YAAaA,EACbC,eAAgBA,EAChBC,cAvIC,WAClBgD,YAAO,0BAAD,cAA2BnB,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAShE,KACzCsE,MAAK,SAAA/E,GACF2E,EAAS3E,EAAI,CACT0F,WAAW,QACXC,aAAa,IAEjBjB,EAAW,IACX1D,EAAa,IACbE,EAAQ,IACRE,EAAM,IACNG,EAAc,IACd+C,GAAYD,GACZC,GAAYD,GACZ1B,GAAe","file":"static/js/238.ce09a058.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\n\r\nasync function post(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await axios.post(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        'authorization': AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error?.response?.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default post;\r\n","import Axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\nasync function put(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await Axios.put(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        \"authorization\": AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error.response.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default put;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { Card, CardBody, CardHeader, CardTitle,  Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, Col, Row, InputGroup, Table, TabContent, TabPane, Nav, NavItem, NavLink, UncontrolledTooltip, ButtonGroup } from 'reactstrap';\r\nimport get from '../../../../helpers/get';\r\nimport post from '../../../../helpers/post';\r\nimport put from '../../../../helpers/put';\r\nimport remove from '../../../../helpers/remove';\r\n\r\nconst AddCommissionPriceInformation = (props) => {\r\n\r\n    const {id, handleRange, handleFrom, handleTo, handleCommission, rangeName, setRangeName, from, setFrom, to, setTo,handleSubmit, commission, setCommission, data} = props;\r\n\r\n   \r\n\r\n \r\n\r\n\r\n   \r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n                        <div className='mb-4'>\r\n                                <span className='branch-title-style2'>Add Commission Information</span>\r\n                            </div>\r\n\r\n                        <form  onSubmit={handleSubmit}> \r\n\r\n                        {\r\n                            (data?.id) ? \r\n                            <input\r\n                            type='hidden'\r\n                            name='id'\r\n                            id='id'\r\n                            value={data?.id}\r\n                            />\r\n                            :\r\n                            null\r\n                        }\r\n\r\n                        <input\r\n                        type='hidden'\r\n                        name='commissionGroupId'\r\n                        id='commissionGroupId'\r\n                        value={id}\r\n                        />\r\n\r\n                        <FormGroup row className=\"has-icon-left position-relative\">\r\n                        <Col md=\"4\">\r\n                        <span>\r\n                        Price Range Name <span className=\"text-danger\"></span>\r\n                        </span>\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                        <Input\r\n                        type='text'\r\n                        name=\"priceRangeName\"\r\n                        id=\"priceRangeName\"\r\n                        value={rangeName}\r\n                        onChange={handleRange}\r\n                        \r\n                        \r\n                        required\r\n\r\n                        />\r\n\r\n                        </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup row className=\"has-icon-left position-relative\">\r\n                        <Col md=\"4\">\r\n                        <span>\r\n                        Student Range From <span className=\"text-danger\"></span>\r\n                        </span>\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                        <Input\r\n                        type='text'\r\n                        name=\"rangeFrom\"\r\n                        id=\"rangeFrom\"\r\n                        value={from}\r\n                        onChange={handleFrom}\r\n                        \r\n                        required\r\n\r\n                        />\r\n\r\n                        </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup row className=\"has-icon-left position-relative\">\r\n                        <Col md=\"4\">\r\n                        <span>\r\n                        Student Range To <span className=\"text-danger\"></span>\r\n                        </span>\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                        <Input\r\n                        type='text'\r\n                        name=\"rangeTo\"\r\n                        id=\"rangeTo\"\r\n                        value={to}\r\n                        onChange={handleTo}\r\n                        \r\n                        required\r\n\r\n                        />\r\n\r\n                        </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup row className=\"has-icon-left position-relative\">\r\n                        <Col md=\"4\">\r\n                        <span>\r\n                        Commission Amount <span className=\"text-danger\"></span>\r\n                        </span>\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                        <Input\r\n                        type='text'\r\n                        name=\"commissionAmount\"\r\n                        id=\"commissionAmount\"\r\n                        value={commission}\r\n                         onChange={handleCommission}\r\n                        \r\n                        required\r\n\r\n                        />\r\n\r\n                        </Col>\r\n                        </FormGroup>\r\n\r\n                        <div className='d-flex justify-content-end mt-3'>\r\n                          \r\n                            \r\n                          <div>\r\n                          <Button color='primary' type='submit'>\r\n                              Submit\r\n\r\n                            </Button>\r\n                          </div>\r\n\r\n                          </div>\r\n\r\n                            \r\n\r\n\r\n                        </form>\r\n\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddCommissionPriceInformation;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { Card, CardBody, CardHeader, CardTitle,  Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, Col, Row, InputGroup, Table, TabContent, TabPane, Nav, NavItem, NavLink, UncontrolledTooltip, ButtonGroup } from 'reactstrap';\r\nimport get from '../../../../helpers/get';\r\nimport post from '../../../../helpers/post';\r\nimport put from '../../../../helpers/put';\r\nimport remove from '../../../../helpers/remove';\r\n\r\nconst ShowCommissionPriceListData = (props) => {\r\n\r\n    const {list, toggleUpdate, toggleDanger, deleteModal, setDeleteModal, confirmDelete} = props \r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n                    <div className='mb-4'>\r\n                                <span className='branch-title-style2'>Commission Price List</span>\r\n                            </div>\r\n\r\n                        <Table className=\"table-sm table-bordered\">\r\n                    <thead className=\"thead-uapp-bg\">\r\n                    <tr style={{ textAlign: \"center\" }}>\r\n                    \r\n                    <th>Price Range Name</th>\r\n                     <th>Student From</th>\r\n                     <th>Student To</th>\r\n                     <th>Commission</th>\r\n                     <th>Action</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {list?.map((ls, i) => (\r\n                    <tr key={i} style={{ textAlign: \"center\" }}>\r\n                    \r\n                      <td>\r\n                        {ls?.priceRangeName}\r\n                      </td>\r\n                      <td>\r\n                        {ls?.rangeFrom}\r\n                      </td>\r\n                      <td>\r\n                        {ls?.rangeTo}\r\n                      </td>\r\n                      <td>\r\n                        {ls?.commissionAmount}\r\n                      </td>\r\n                     \r\n                     \r\n                      <td style={{ width: \"15%\" }} className=\"text-center\">\r\n                        <ButtonGroup variant=\"text\">\r\n                       \r\n\r\n                            {/* <ButtonForFunction\r\n                            icon={<i className=\"fas fa-edit\"></i>}\r\n                            color={\"dark\"}\r\n                            className={\"mx-1 btn-sm\"}\r\n                            func={()=>handleEdit(student)}\r\n                            /> */}\r\n\r\n                            <Button className='me-1 btn-sm' color='warning' onClick={()=>toggleUpdate(ls)}>\r\n                            <i className=\"fas fa-edit\"></i>\r\n\r\n\r\n                            </Button>\r\n\r\n                            <Button className='ms-1 btn-sm' color='danger' onClick={()=>toggleDanger(ls)}>\r\n                            <i className=\"fas fa-trash-alt\"></i>\r\n\r\n\r\n                            </Button>\r\n\r\n\r\n                      \r\n\r\n                          {/* <Button onClick={() => toggleDanger(student?.name, student?.id)} color=\"danger\" className=\"mx-1 btn-sm\">\r\n                            <i className=\"fas fa-trash-alt\"></i>\r\n                          </Button> */}\r\n                          \r\n                       \r\n\r\n                          {/* <ButtonForFunction\r\n                          icon={<i className=\"fas fa-trash-alt\"></i>}\r\n                          color={'danger'}\r\n                          className={\"mx-1 btn-sm\"}\r\n                          func={()=> toggleDanger(student)}\r\n\r\n                          /> */}\r\n\r\n                        </ButtonGroup>\r\n\r\n                     \r\n                        <Modal isOpen={deleteModal} toggle={() => setDeleteModal(!deleteModal)} className=\"uapp-modal\">\r\n                        <ModalBody>\r\n                          <p>Are You Sure to Delete this ? Once Deleted it can't be Undone!</p>\r\n                        </ModalBody>\r\n        \r\n                        <ModalFooter>\r\n                          <Button  color=\"danger\" onClick={confirmDelete}>YES</Button>\r\n                          <Button onClick={() => setDeleteModal(false)}>NO</Button>\r\n                        </ModalFooter>\r\n                     </Modal>\r\n\r\n\r\n\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                    \r\n                    </tbody>\r\n                    </Table>\r\n                            \r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShowCommissionPriceListData;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { Card, CardBody, CardHeader, CardTitle,  Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, Col, Row, InputGroup, Table, TabContent, TabPane, Nav, NavItem, NavLink, UncontrolledTooltip, ButtonGroup } from 'reactstrap';\r\nimport get from '../../../../helpers/get';\r\nimport post from '../../../../helpers/post';\r\nimport put from '../../../../helpers/put';\r\nimport remove from '../../../../helpers/remove';\r\nimport AddCommissionPriceInformation from './AddCommissionPriceInformation';\r\nimport ShowCommissionPriceListData from './ShowCommissionPriceListData';\r\n\r\n\r\nconst CommissionPriceList = () => {\r\n\r\n    const {id} = useParams();\r\n    const history = useHistory();\r\n    const [rangeName,setRangeName] = useState('');\r\n    const [from,setFrom] = useState('');\r\n    const [to,setTo] = useState('');\r\n    const [commission,setCommission] = useState('');\r\n    const [success,setSuccess] = useState(false);\r\n    const [list,setList] = useState([]);\r\n    const [data,setData] = useState({});\r\n    const [delData,setDelData] = useState({});\r\n    const [deleteModal,setDeleteModal] = useState(false);\r\n\r\n    const {addToast} = useToasts();\r\n\r\n    useEffect(()=>{\r\n\r\n        get(`GroupPriceRange/Index/${id}`)\r\n        .then(res=> {\r\n           \r\n            setList(res);\r\n        })\r\n\r\n    },[success])\r\n\r\n    const backToDashboard = () => {\r\n        history.push(\"/\")\r\n    }\r\n\r\n    const handleRange = (e) => {\r\n        setRangeName(e.target.value);\r\n    }\r\n    const handleFrom = (e) => {\r\n        setFrom(e.target.value);\r\n    }\r\n    const handleTo = (e) => {\r\n        setTo(e.target.value);\r\n    }\r\n    const handleCommission = (e) => {\r\n        setCommission(e.target.value);\r\n    }\r\n\r\n    const toggleDanger = (data) => {\r\n        setDelData(data);\r\n        setDeleteModal(true);\r\n    }\r\n\r\n    const confirmDelete = () => {\r\n        remove(`GroupPriceRange/Delete/${delData?.id}`)\r\n        .then(res =>{\r\n            addToast(res,{\r\n                appearance:'error',\r\n                autoDismiss: true\r\n            })\r\n            setDelData({});\r\n            setRangeName('');\r\n            setFrom('');\r\n            setTo('');\r\n            setCommission('');\r\n            setSuccess(!success);\r\n            setSuccess(!success);\r\n            setDeleteModal(false);\r\n        })\r\n    }\r\n\r\n    const toggleUpdate = (data) => {\r\n        \r\n        setData(data);\r\n        setRangeName(data?.priceRangeName);\r\n        setFrom(data?.rangeFrom);\r\n        setTo(data?.rangeTo);\r\n        setCommission(data?.commissionAmount);\r\n\r\n    }\r\n\r\n    // (data);\r\n\r\n \r\n   \r\n\r\n    const handleSubmit = (event) =>{\r\n\r\n        event.preventDefault();\r\n\r\n        const subData = new FormData(event.target);\r\n\r\n        if(data.id){\r\n\r\n            put(`GroupPriceRange/Update`,subData)\r\n            .then(res=> {\r\n                if(res?.status ==200){\r\n                    addToast(res?.data?.message,{\r\n                        appearance:'success',\r\n                        autoDismiss: true\r\n                    })\r\n                    setRangeName('');\r\n                    setFrom('');\r\n                    setTo('');\r\n                    setCommission('');\r\n                    setData({});\r\n                    setSuccess(!success);\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n        else{\r\n\r\n            post(`GroupPriceRange/Create`,subData)\r\n        .then(res => {\r\n            if(res?.status ==200){\r\n                addToast(res?.data?.message,{\r\n                    appearance: 'success',\r\n                    autoDismiss: true\r\n                })\r\n                setRangeName('');\r\n                setFrom('');\r\n                setTo('');\r\n                setCommission('');\r\n                setSuccess(!success);\r\n                \r\n            }\r\n        })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Card className=\"uapp-card-bg\">\r\n              <CardHeader className=\"page-header\">\r\n                <h3 className=\"text-light\">Commission Price List</h3>\r\n                <div className=\"page-header-back-to-home\">\r\n                  <span className=\"text-light\" onClick={backToDashboard}>\r\n                    {\" \"}\r\n                    <i className=\"fas fa-arrow-circle-left\"></i> Back to Dashboard\r\n                  </span>\r\n                </div>\r\n              </CardHeader>\r\n            </Card>\r\n\r\n            <Card>\r\n\r\n                <CardBody>\r\n\r\n                    <div className='row'>\r\n\r\n                        <div className='col-md-5'>\r\n                            <AddCommissionPriceInformation\r\n                            id={id}\r\n                            handleRange={handleRange}\r\n                            handleFrom={handleFrom}\r\n                            handleTo={handleTo}\r\n                            handleCommission={handleCommission}\r\n                            rangeName={rangeName}\r\n                            setRangeName={setRangeName}\r\n                            from={from}\r\n                            setFrom={setFrom}\r\n                            to={to}\r\n                            setTo={setTo}\r\n                            handleSubmit={handleSubmit}\r\n                            commission={commission}\r\n                            setCommission={setCommission}\r\n                            data={data}\r\n                           \r\n\r\n                            />\r\n                            \r\n                      \r\n\r\n                        </div>\r\n\r\n\r\n                        <div className='col-md-7'>\r\n\r\n                         <ShowCommissionPriceListData\r\n                         list={list}\r\n                         toggleUpdate={toggleUpdate}\r\n                         toggleDanger={toggleDanger}\r\n                         deleteModal={deleteModal}\r\n                         setDeleteModal={setDeleteModal}\r\n                         confirmDelete={confirmDelete}\r\n\r\n                         />\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                </CardBody>\r\n\r\n            </Card>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommissionPriceList;"],"sourceRoot":""}