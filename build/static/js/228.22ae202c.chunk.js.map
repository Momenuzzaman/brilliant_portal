{"version":3,"sources":["helpers/put.js","helpers/post.js","views/SMS/Nationality/Nationality.js"],"names":["AuthStr","localStorage","getItem","url","body","Axios","put","rootUrl","headers","res","response","status","history","push","axios","post","Nationality","useHistory","useState","modalOpen","setModalOpen","deleteModal","setDeleteModal","countryList","setCountryList","addToast","useToasts","success","setSuccess","data","setData","delData","setDelData","useEffect","get","then","console","log","closeModal","deleteConfirm","remove","id","appearance","autoDismiss","className","onClick","length","isOpen","toggle","onSubmit","e","preventDefault","subdata","FormData","target","message","row","md","type","name","value","defaultValue","placeholder","style","display","justifyContent","color","Ripple","textAlign","map","list","index","key","variant","toggleDeleteModal","handleUpdateCountry"],"mappings":"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","file":"static/js/228.22ae202c.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\nasync function put(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await Axios.put(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        \"authorization\": AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error.response.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default put;\r\n","import axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\n\r\nasync function post(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await axios.post(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        'authorization': AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error?.response?.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default post;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, ButtonGroup, Card, CardBody, CardHeader, Col, FormGroup, Input, Modal, ModalBody, ModalFooter, ModalHeader, Table, Form } from 'reactstrap';\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport get from '../../../helpers/get';\r\nimport post from '../../../helpers/post';\r\nimport remove from '../../../helpers/remove';\r\nimport put from '../../../helpers/put';\r\n\r\nconst Nationality = () => {\r\n\r\n    const history = useHistory();\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [deleteModal, setDeleteModal] = useState(false);\r\n    const [countryList, setCountryList] = useState([]);\r\n    const {addToast} = useToasts();\r\n    const [success,setSuccess] = useState(false);\r\n    const [data,setData] = useState({});\r\n    const [delData, setDelData] = useState({});\r\n\r\n\r\n    const backToDashboard = () => {\r\n        history.push('/');\r\n    }\r\n\r\n    useEffect(()=>{\r\n        get('Nationality/Index')\r\n        .then(res => {\r\n            console.log(res);\r\n            setCountryList(res);\r\n        })\r\n    },[success])\r\n\r\n    // on Close Modal\r\n   const closeModal = () => {\r\n    setModalOpen(false);\r\n \r\n  }\r\n\r\n  const toggleDeleteModal = (data) => {\r\n\r\n    setDelData(data);\r\n    console.log(data);\r\n    setDeleteModal(true);\r\n\r\n  }\r\n\r\n\r\n  const deleteConfirm = () => {\r\n    remove(`Nationality/Delete/${delData?.id}`)\r\n    .then(res => {\r\n        addToast(res,{\r\n            appearance: 'error',\r\n            autoDismiss: true\r\n        })\r\n        setDelData({});\r\n        setSuccess(!success);\r\n        setDeleteModal(false);\r\n    })\r\n  }\r\n \r\n\r\n    const AddModalOpen= () => {\r\n  \r\n      \r\n      setModalOpen(true);\r\n\r\n    }\r\n\r\n    const handleAddCountry  = (e) => {\r\n        e.preventDefault();\r\n        const subdata = new FormData(e.target);\r\n\r\n        if(data?.id){\r\n            put('Nationality/Update',subdata)\r\n            .then(res => {\r\n               if(res?.status ==200){\r\n                console.log(res?.data?.message);\r\n                addToast(res?.data?.message,{\r\n                    appearance: 'success',\r\n                    autoDismiss: true\r\n                })\r\n                setData({});\r\n               setSuccess(!success);\r\n                setModalOpen(false);\r\n               }\r\n    \r\n            })\r\n        }\r\n        else{\r\n            post('Nationality/Create',subdata)\r\n        .then(res => {\r\n            if(res?.status == 200){\r\n                console.log(res?.data?.message);\r\n            addToast(res?.data?.message,{\r\n                appearance: 'success',\r\n                autoDismiss: true\r\n            })\r\n           setSuccess(!success);\r\n            setModalOpen(false);\r\n            }\r\n\r\n        })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleUpdateCountry = (data) => {\r\n        setData(data);\r\n        setModalOpen(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n             <Card className=\"uapp-card-bg\">\r\n              <CardHeader className=\"page-header\">\r\n                <h3 className=\"text-light\">Nationality List</h3>\r\n                <div className=\"page-header-back-to-home\">\r\n                  <span onClick={backToDashboard} className=\"text-light\">\r\n                    {\" \"}\r\n                    <i className=\"fas fa-arrow-circle-left\"></i> Back to Dashboard\r\n                  </span>\r\n                </div>\r\n              </CardHeader>\r\n            </Card>\r\n\r\n            <Card>\r\n            <CardHeader>\r\n       \r\n            <Button className=\"btn btn-uapp-add\" onClick={()=>AddModalOpen('add')} > <i className=\"fas fa-plus\"></i>  Add New</Button>\r\n                  <div> <b> Total <span className=\"badge badge-primary\">{countryList.length} </span> Countries  Found </b></div>\r\n            </CardHeader>\r\n             <CardBody>\r\n\r\n             <div>\r\n\r\n<Modal isOpen={modalOpen} toggle={closeModal} className=\"uapp-modal\">\r\n  <ModalHeader>Add Nationality </ModalHeader>\r\n  <ModalBody>\r\n    <Form onSubmit={handleAddCountry} >\r\n     \r\n      <FormGroup row className=\"has-icon-left position-relative\">\r\n        <Col md=\"4\">\r\n          <span> Name</span>\r\n        </Col>\r\n        <Col md=\"8\">\r\n\r\n           \r\n            {\r\n                (data?.id) ?\r\n\r\n                <input\r\n                type='hidden'\r\n                name='id'\r\n                id='id'\r\n                value={data?.id}\r\n                />\r\n                :\r\n                null\r\n            }\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            defaultValue={data?.name}\r\n           \r\n          \r\n            placeholder=\"Enter Nationality\"\r\n          />\r\n\r\n        </Col>\r\n      </FormGroup>\r\n\r\n     \r\n     \r\n\r\n      <FormGroup className=\"has-icon-left position-relative\" style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\r\n        <Button color=\"danger\" className=\"mr-1 mt-3\" onClick={closeModal}>Close</Button>\r\n\r\n   \r\n          <Button.Ripple\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            className=\"mr-1 mt-3\"\r\n           \r\n          >\r\n            Submit\r\n          </Button.Ripple>\r\n\r\n      \r\n\r\n      </FormGroup>\r\n\r\n    </Form>\r\n  </ModalBody>\r\n\r\n</Modal>\r\n<div>\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"table-responsive\">\r\n          <Table className=\"table-sm table-bordered text-center\" >\r\n          <thead className=\"thead-uapp-bg\">\r\n              <tr style={{ textAlign: \"center\" }}>\r\n                <th>SL/NO</th>\r\n                <th> Name</th>\r\n          \r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                countryList.map((list,index) =><tr key={index}\r\n                list ={list}\r\n                >\r\n                  \r\n                  <td>{index+1}</td>\r\n                  <td>{list?.name}</td>\r\n              \r\n                  <td>\r\n                  <ButtonGroup variant=\"text\">\r\n\r\n                            {/* <Button  color=\"danger\" onClick={()=>handleDelete(dept?.id)}   className=\"mr-2 btn-sm\"><i className=\"fas fa-trash-alt\"></i></Button> */}\r\n                          \r\n                         <Button className=\"btn-sm mx-2\" onClick={()=>toggleDeleteModal(list)}  color=\"danger\"><i className=\"fas fa-trash-alt\"></i></Button>\r\n                       \r\n                      \r\n                         <Button color=\"warning\" onClick={()=> handleUpdateCountry(list)}    className=\" btn-sm\"> <i className=\"fas fa-edit\"></i> </Button>\r\n                       \r\n                          \r\n                          </ButtonGroup>\r\n\r\n                  {/* modal for delete */}\r\n                  <Modal isOpen={deleteModal}  className=\"uapp-modal\">\r\n\r\n                      <ModalBody>\r\n                        <p>Are You Sure to Delete this ? Once Deleted it can't be Undone!</p>\r\n                      </ModalBody>\r\n\r\n                      <ModalFooter>\r\n                        <Button color=\"danger\" onClick={deleteConfirm} >YES</Button>\r\n                        <Button >NO</Button>\r\n                      </ModalFooter>\r\n\r\n                  </Modal>\r\n\r\n\r\n                  </td>\r\n                    \r\n                \r\n\r\n\r\n\r\n\r\n                </tr>)\r\n              }\r\n\r\n              \r\n\r\n            </tbody>\r\n          </Table>\r\n          </div>\r\n\r\n         </CardBody>\r\n      </Card>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Nationality;"],"sourceRoot":""}