{"version":3,"sources":["helpers/post.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/Card.js","views/SMS/AdmissionOfficer/AdmissionOfficerWiseSubject.js"],"names":["AuthStr","localStorage","getItem","url","body","axios","post","rootUrl","headers","res","response","status","history","push","_excluded","propTypes","tag","tagPropType","className","PropTypes","string","cssModule","object","innerRef","oneOfType","func","CardBody","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","CardHeader","inverse","bool","color","outline","Card","AdmissionOfficerWiseSubject","permissions","JSON","parse","useParams","managerId","universityId","useState","list","setList","success","setSuccess","addToast","useToasts","useHistory","useEffect","get","then","console","log","onClick","id","style","textAlign","map","sub","i","key","scope","subjectName","isAssigned","includes","permissionList","Assign_AdmissionOfficer_Subject","data","remove","subjectId","appearance","autoDismiss","Delete_AdmissionOfficer_Subject","admissionOfficerId","isSuccess","message"],"mappings":";m8MAKA,IAAMA,EAAUC,aAAaC,QAAQ,S,4CAErC,WAAoBC,GAApB,8FAAyBC,EAAzB,+BAAgC,GAAhC,+BAAgD,GAAhD,kBAEsBC,IAAMC,KAAN,UAAcC,KAAd,OAAwBJ,GAAOC,EAAM,CACrDI,QAAS,CACP,cAAiBR,KAJzB,cAEUS,EAFV,gBAOiBA,EAPjB,gFASoC,OAA5B,2CAAOC,gBAAP,eAAiBC,SACnBC,IAAQC,KAAK,QAVnB,gE,sBAiBeP,I,8ECxBf,2EAEIQ,EAAY,CAAC,YAAa,YAAa,WAAY,OAKnDC,EAAY,CACdC,IAAKC,IACLC,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrBC,SAAUJ,IAAUK,UAAU,CAACL,IAAUG,OAAQH,IAAUC,OAAQD,IAAUM,QAM3EC,EAAW,SAAkBC,GAC/B,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBE,EAAWI,EAAMJ,SACjBK,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAOb,GAElDiB,EAAUC,YAAgBC,IAAWf,EAAW,aAAcG,GAClE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,EACXM,IAAKd,MAITG,EAASX,UAAYA,EACrBW,EAASY,aAnBU,CACjBtB,IAAK,OAmBQU,O,iCCjCf,2EAEIZ,EAAY,CAAC,YAAa,YAAa,OAKvCC,EAAY,CACdC,IAAKC,IACLC,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,QAMnBiB,EAAa,SAAoBZ,GACnC,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBO,EAAMD,EAAMX,IACZa,EAAaC,YAA8BH,EAAOb,GAElDiB,EAAUC,YAAgBC,IAAWf,EAAW,eAAgBG,GACpE,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,MAIfQ,EAAWxB,UAAYA,EACvBwB,EAAWD,aAjBQ,CACjBtB,IAAK,OAiBQuB,O,iCC9Bf,2EAEIzB,EAAY,CAAC,YAAa,YAAa,QAAS,OAAQ,UAAW,UAAW,MAAO,YAKrFC,EAAY,CACdC,IAAKC,IACLuB,QAASrB,IAAUsB,KACnBC,MAAOvB,IAAUC,OACjBhB,KAAMe,IAAUsB,KAChBE,QAASxB,IAAUsB,KACnBvB,UAAWC,IAAUC,OACrBC,UAAWF,IAAUG,OACrBC,SAAUJ,IAAUK,UAAU,CAACL,IAAUG,OAAQH,IAAUC,OAAQD,IAAUM,QAM3EmB,EAAO,SAAcjB,GACvB,IAAIT,EAAYS,EAAMT,UAClBG,EAAYM,EAAMN,UAClBqB,EAAQf,EAAMe,MACdtC,EAAOuB,EAAMvB,KACboC,EAAUb,EAAMa,QAChBG,EAAUhB,EAAMgB,QAChBf,EAAMD,EAAMX,IACZO,EAAWI,EAAMJ,SACjBM,EAAaC,YAA8BH,EAAOb,GAElDiB,EAAUC,YAAgBC,IAAWf,EAAW,SAAQsB,GAAU,eAAsBpC,GAAO,cAAqBsC,IAASC,EAAU,SAAW,MAAQ,IAAMD,GAAgBrB,GACpL,OAAoBa,IAAMC,cAAcP,EAAKQ,YAAS,GAAIP,EAAY,CACpEX,UAAWa,EACXM,IAAKd,MAITqB,EAAK7B,UAAYA,EACjB6B,EAAKN,aAvBc,CACjBtB,IAAK,OAuBQ4B,O,oKCyHAC,UAxJqB,WAEhC,IAAMC,EAAcC,KAAKC,MAAM/C,aAAaC,QAAQ,gBAEpD,EAAkC+C,cAA3BC,EAAP,EAAOA,UAAWC,EAAlB,EAAkBA,aAClB,EAAuBC,mBAAS,IAAhC,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA6BF,oBAAS,GAAtC,mBAAOG,EAAP,KAAeC,EAAf,KACOC,EAAYC,sBAAZD,SACD7C,EAAU+C,cAGhBC,qBAAU,WAENC,YAAI,4CAAD,OAA6CV,EAA7C,YAA6DD,IAC/DY,MAAK,SAAArD,GACFsD,QAAQC,IAAIvD,GACZ6C,EAAQ7C,QAGd,CAAC8C,IA0CH,OACI,6BACK,kBAAC,IAAD,CAAMrC,UAAU,gBACrB,kBAAC,IAAD,CAAYA,UAAU,eACpB,wBAAIA,UAAU,cAAd,mCACA,yBAAKA,UAAU,4BACb,0BAAM+C,QA9CU,WACpBrD,EAAQC,KAAR,uCAA6CsC,KA6CTjC,UAAU,cACvC,IACD,uBAAGA,UAAU,6BAAgC,IAF/C,0CAUA,kBAAC,IAAD,KACJ,kBAAC,IAAD,KACA,yBAAKA,UAAU,oBACT,kBAAC,IAAD,CAAOgD,GAAG,eAAehD,UAAU,2BACjC,2BAAOA,UAAU,iBACf,wBAAIiD,MAAO,CAAEC,UAAW,WAElB,qCACE,uCAEF,wCAIR,sCACGf,QADH,IACGA,OADH,EACGA,EAAMgB,KAAI,SAACC,EAAKC,GAAN,OACT,wBAAIC,IAAG,OAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAKJ,GAAIC,MAAO,CAAEC,UAAW,WAClC,wBAAIK,MAAM,OAAO,EAAIF,GAErB,mCACED,QADF,IACEA,OADF,EACEA,EAAKI,aAKX,6BAGA,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAKK,YAEH,qCAEgB,OAAX7B,QAAW,IAAXA,OAAA,EAAAA,EAAa8B,SAASC,IAAeC,kCACrC,kBAAC,IAAD,CAAQpC,MAAM,SAASuB,QAAS,kBA7DhCc,EA6DmDT,OA5DvEU,YAAO,kCAAD,cAAmCD,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAME,UAAzC,YAAsD/B,IAC3DY,MAAK,SAAArD,GACFgD,EAAShD,EAAI,CACTyE,WAAY,UACZC,aAAa,IAEjB3B,GAAYD,MAPG,IAACwB,IA6DA,UAKF,MAKP,qCAEW,OAAXjC,QAAW,IAAXA,OAAA,EAAAA,EAAa8B,SAASC,IAAeO,kCACrC,kBAAC,IAAD,CAAQ1C,MAAM,UAAUuB,QAAS,kBAlGxBc,EAkG2CT,OAjG/DhE,YAAK,iCAAiC,CAClC+E,mBAAoBnC,EACpB+B,UAAS,OAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAME,YAEpBnB,MAAK,SAAArD,GAAO,IAAD,EAC8C,EAOlD,EAPc,MAAZ,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKE,SAAyC,IAArB,OAAHF,QAAG,IAAHA,GAAA,UAAAA,EAAKsE,YAAL,eAAWO,YAChC7B,EAAQ,OAAChD,QAAD,IAACA,GAAD,UAACA,EAAKsE,YAAN,aAAC,EAAWQ,QAAQ,CACxBL,WAAY,UACZC,aAAa,IAEjB3B,GAAYD,IAGZE,EAAQ,OAAChD,QAAD,IAACA,GAAD,UAACA,EAAKsE,YAAN,aAAC,EAAWQ,QAAQ,CACxBL,WAAY,QACZC,aAAa,OAhBN,IAACJ,IAkGT,UAKA","file":"static/js/254.e2ae4144.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\n\r\nasync function post(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await axios.post(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        'authorization': AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error?.response?.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default post;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"innerRef\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { Card, CardHeader, CardBody, Table, Button } from 'reactstrap';\r\nimport { permissionList } from '../../../constants/AuthorizationConstant';\r\nimport get from '../../../helpers/get';\r\nimport post from '../../../helpers/post';\r\nimport remove from '../../../helpers/remove';\r\n\r\nconst AdmissionOfficerWiseSubject = () => {\r\n\r\n    const permissions = JSON.parse(localStorage.getItem('permissions'));\r\n\r\n    const {managerId, universityId} = useParams();\r\n    const [list,setList] = useState([]);\r\n    const [success,setSuccess] = useState(false);\r\n    const {addToast} = useToasts();\r\n    const history = useHistory();\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        get(`AdmissionOfficerSubject/AssignedSubjects/${universityId}/${managerId}`)\r\n        .then(res => {\r\n            console.log(res);\r\n            setList(res);\r\n        })\r\n\r\n    },[success])\r\n\r\n    const backToDashboard = () => {\r\n        history.push(`/universityAdmissionOfficers/${universityId}`);\r\n     }\r\n\r\n     const assignSubject = (data) => {\r\n        post(`AdmissionOfficerSubject/Create`,{\r\n            admissionOfficerId: managerId,\r\n            subjectId: data?.subjectId\r\n        })\r\n        .then(res =>{\r\n            if(res?.status == 200 && res?.data?.isSuccess == true){\r\n                addToast(res?.data?.message,{\r\n                    appearance: 'success',\r\n                    autoDismiss: true\r\n                })\r\n                setSuccess(!success);\r\n            }\r\n            else{\r\n                addToast(res?.data?.message,{\r\n                    appearance: 'error',\r\n                    autoDismiss: true\r\n                })\r\n\r\n            }\r\n\r\n        })\r\n     }\r\n\r\n     const removeSubject = (data) => {\r\n        remove(`AdmissionOfficerSubject/Remove/${data?.subjectId}/${managerId}`)\r\n        .then(res => {\r\n            addToast(res,{\r\n                appearance: 'success',\r\n                autoDismiss: true\r\n            })\r\n            setSuccess(!success);\r\n        })\r\n\r\n     }\r\n\r\n    return (\r\n        <div>\r\n             <Card className=\"uapp-card-bg\">\r\n        <CardHeader className=\"page-header\">\r\n          <h3 className=\"text-white\">Admission Officer Subject List </h3>\r\n          <div className=\"page-header-back-to-home\">\r\n            <span onClick={backToDashboard} className=\"text-white\">\r\n              {\" \"}\r\n              <i className=\"fas fa-arrow-circle-left\"></i>{\" \"}\r\n              Back to Assigned Admission officers\r\n            </span>\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n\r\n            <Card>\r\n        <CardBody>\r\n        <div className=\"table-responsive\">\r\n              <Table id=\"table-to-xls\" className=\"table-sm table-bordered\">\r\n                <thead className=\"thead-uapp-bg\">\r\n                  <tr style={{ textAlign: \"center\" }}>\r\n                        \r\n                        <th>SL/NO</th> \r\n                          <th>Subject</th> \r\n\r\n                        <th>Action</th>\r\n                   \r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {list?.map((sub, i) => (\r\n                    <tr key={sub?.id} style={{ textAlign: \"center\" }}>\r\n                        <th scope=\"row\">{1 + i}</th> \r\n\r\n                        <td>\r\n                         {sub?.subjectName} \r\n                        </td>\r\n                 \r\n            \r\n                    \r\n                    <td>\r\n                   \r\n                   {\r\n                    (sub?.isAssigned) ? \r\n         \r\n                       <>\r\n                        {\r\n                            permissions?.includes(permissionList.Assign_AdmissionOfficer_Subject) ?\r\n                            <Button color='danger' onClick={()=> removeSubject(sub)}>\r\n                            Remove\r\n        \r\n                          </Button>\r\n                          :\r\n                          null\r\n                        }</>\r\n\r\n                      :\r\n                 \r\n                   <>\r\n                   {\r\n                   permissions?.includes(permissionList.Delete_AdmissionOfficer_Subject) ?\r\n                   <Button color='primary' onClick={()=> assignSubject(sub)}>\r\n                    Assign\r\n  \r\n                   </Button>\r\n                   :\r\n                   null\r\n                    }\r\n                   </>\r\n                   }\r\n               \r\n                \r\n                   \r\n\r\n                 </td>\r\n                  \r\n                     \r\n                     \r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n        </CardBody>\r\n      </Card>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdmissionOfficerWiseSubject;"],"sourceRoot":""}