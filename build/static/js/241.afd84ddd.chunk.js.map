{"version":3,"sources":["helpers/post.js","helpers/put.js","views/SMS/Search/Loader/Loader.js","views/SMS/Nationality/Nationality.js"],"names":["AuthStr","localStorage","getItem","url","body","axios","post","rootUrl","headers","res","response","status","history","push","Axios","put","Loader","className","src","loader","Nationality","useHistory","useState","modalOpen","setModalOpen","deleteModal","setDeleteModal","countryList","setCountryList","addToast","useToasts","success","setSuccess","data","setData","delData","setDelData","loading","setLoading","buttonStatus","setButtonStatus","useEffect","get","then","console","log","closeModal","deleteConfirm","remove","id","appearance","autoDismiss","onClick","length","isOpen","toggle","onSubmit","e","preventDefault","subdata","FormData","target","message","isSuccess","row","md","type","name","value","defaultValue","required","placeholder","style","display","justifyContent","color","disabled","textAlign","map","list","index","key","variant","toggleDeleteModal","handleUpdateCountry"],"mappings":"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","file":"static/js/241.afd84ddd.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\n\r\nasync function post(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await axios.post(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        'authorization': AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    if (error?.response?.status === 404) {\r\n      history.push(\"/404\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default post;\r\n","import Axios from \"axios\";\r\n\r\nimport history from \"./history\";\r\nimport { rootUrl } from \"../constants/constants\";\r\n\r\nconst AuthStr = localStorage.getItem(\"token\");\r\nasync function put(url, body = {}, authToken = \"\") {\r\n  try {\r\n    const res = await Axios.put(`${rootUrl}${url}`, body, {\r\n      headers: {\r\n        \"authorization\": AuthStr,\r\n      },\r\n    });\r\n    return await res;\r\n  } catch (error) {\r\n    return error;\r\n    // if (error.response.status === 404) {\r\n    //   history.push(\"/404\");\r\n      \r\n    // }\r\n    // else if(error.response.status === 400){\r\n    //   history.push('/400')\r\n    // }\r\n\r\n    // throw error;\r\n  }\r\n}\r\n\r\nexport default put;\r\n","import React from 'react';\r\nimport loader from '../../../../assets/img/load.gif'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className='text-center'>\r\n            <img className='img-fluid' src={loader} />\r\n\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, ButtonGroup, Card, CardBody, CardHeader, Col, FormGroup, Input, Modal, ModalBody, ModalFooter, ModalHeader, Table, Form } from 'reactstrap';\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport get from '../../../helpers/get';\r\nimport post from '../../../helpers/post';\r\nimport remove from '../../../helpers/remove';\r\nimport put from '../../../helpers/put';\r\nimport Loader from '../Search/Loader/Loader';\r\n\r\nconst Nationality = () => {\r\n\r\n    const history = useHistory();\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [deleteModal, setDeleteModal] = useState(false);\r\n    const [countryList, setCountryList] = useState([]);\r\n    const {addToast} = useToasts();\r\n    const [success,setSuccess] = useState(false);\r\n    const [data,setData] = useState({});\r\n    const [delData, setDelData] = useState({});\r\n    const [loading,setLoading] = useState(true);\r\n    const [buttonStatus,setButtonStatus] = useState(false);\r\n\r\n\r\n    const backToDashboard = () => {\r\n        history.push('/');\r\n    }\r\n\r\n    useEffect(()=>{\r\n        get('Nationality/Index')\r\n        .then(res => {\r\n            console.log(res);\r\n            setCountryList(res);\r\n            setLoading(false);\r\n        })\r\n    },[success])\r\n\r\n    // on Close Modal\r\n   const closeModal = () => {\r\n    setModalOpen(false);\r\n \r\n  }\r\n\r\n  const toggleDeleteModal = (data) => {\r\n\r\n    setDelData(data);\r\n    console.log(data);\r\n    setDeleteModal(true);\r\n\r\n  }\r\n\r\n\r\n  const deleteConfirm = () => {\r\n    setButtonStatus(true);\r\n    remove(`Nationality/Delete/${delData?.id}`)\r\n    .then(res => {\r\n      setButtonStatus(false);\r\n        addToast(res,{\r\n            appearance: 'error',\r\n            autoDismiss: true\r\n        })\r\n        setDelData({});\r\n        setSuccess(!success);\r\n        setDeleteModal(false);\r\n    })\r\n  }\r\n \r\n\r\n    const AddModalOpen= () => {\r\n  \r\n      \r\n      setModalOpen(true);\r\n\r\n    }\r\n\r\n    const handleAddCountry  = (e) => {\r\n        e.preventDefault();\r\n        const subdata = new FormData(e.target);\r\n\r\n        if(data?.id){\r\n          setButtonStatus(true);\r\n            put('Nationality/Update',subdata)\r\n            .then(res => {\r\n              setButtonStatus(false);\r\n               if(res?.status ==200){\r\n                console.log(res?.data?.message);\r\n                addToast(res?.data?.message,{\r\n                    appearance: 'success',\r\n                    autoDismiss: true\r\n                })\r\n                setData({});\r\n               setSuccess(!success);\r\n                setModalOpen(false);\r\n               }\r\n    \r\n            })\r\n        }\r\n        else{\r\n          setButtonStatus(true);\r\n            post('Nationality/Create',subdata)\r\n        .then(res => {\r\n          setButtonStatus(false);\r\n            if(res?.status == 200 && res?.data?.isSuccess == true){\r\n                console.log(res?.data?.message);\r\n            addToast(res?.data?.message,{\r\n                appearance: 'success',\r\n                autoDismiss: true\r\n            })\r\n           setSuccess(!success);\r\n            setModalOpen(false);\r\n            }\r\n            else{\r\n              addToast(res?.data?.message, {\r\n                appearance: \"error\",\r\n                autoDismiss: true,\r\n              });\r\n            }\r\n\r\n        })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleUpdateCountry = (data) => {\r\n        setData(data);\r\n        setModalOpen(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n             {\r\n              loading?\r\n              <Loader/>\r\n              :\r\n              <div>\r\n                <Card className=\"uapp-card-bg\">\r\n              <CardHeader className=\"page-header\">\r\n                <h3 className=\"text-white\">Nationality List</h3>\r\n                <div className=\"page-header-back-to-home\">\r\n                  <span onClick={backToDashboard} className=\"text-white\">\r\n                    {\" \"}\r\n                    <i className=\"fas fa-arrow-circle-left\"></i> Back to Dashboard\r\n                  </span>\r\n                </div>\r\n              </CardHeader>\r\n            </Card>\r\n\r\n            <Card>\r\n            <CardHeader>\r\n       \r\n            <Button className=\"btn btn-uapp-add\" onClick={()=>AddModalOpen('add')} > <i className=\"fas fa-plus\"></i>  Add New Nationality</Button>\r\n                  <div> <b> Total <span className=\"badge badge-primary\">{countryList.length} </span> Nationalities  Found </b></div>\r\n            </CardHeader>\r\n             <CardBody>\r\n\r\n             <div>\r\n\r\n<Modal isOpen={modalOpen} toggle={closeModal} className=\"uapp-modal\">\r\n  <ModalHeader>Add Nationality </ModalHeader>\r\n  <ModalBody>\r\n    <Form onSubmit={handleAddCountry} >\r\n     \r\n      <FormGroup row className=\"has-icon-left position-relative\">\r\n        <Col md=\"4\">\r\n          <span> Name <span className=\"text-danger\">*</span>{\" \"}</span>\r\n        </Col>\r\n        <Col md=\"8\">\r\n\r\n           \r\n            {\r\n                (data?.id) ?\r\n\r\n                <input\r\n                type='hidden'\r\n                name='id'\r\n                id='id'\r\n                value={data?.id}\r\n                />\r\n                :\r\n                null\r\n            }\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            defaultValue={data?.name}\r\n            required\r\n            placeholder=\"Enter Nationality\"\r\n          />\r\n\r\n        </Col>\r\n      </FormGroup>\r\n\r\n     \r\n     \r\n\r\n      <FormGroup className=\"has-icon-left position-relative\" style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\r\n        <Button color=\"danger\" className=\"mr-1 mt-3\" onClick={closeModal}>Close</Button>\r\n\r\n   \r\n          <Button\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            className=\"mr-1 mt-3\"\r\n           disabled={buttonStatus}\r\n          >\r\n            Submit\r\n          </Button>\r\n\r\n      \r\n\r\n      </FormGroup>\r\n\r\n    </Form>\r\n  </ModalBody>\r\n\r\n</Modal>\r\n<div>\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"table-responsive\">\r\n          <Table className=\"table-sm table-bordered text-center\" >\r\n          <thead className=\"thead-uapp-bg\">\r\n              <tr style={{ textAlign: \"center\" }}>\r\n                <th>SL/NO</th>\r\n                <th> Name</th>\r\n          \r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                countryList.map((list,index) =><tr key={index}\r\n                list ={list}\r\n                >\r\n                  \r\n                  <td>{index+1}</td>\r\n                  <td>{list?.name}</td>\r\n              \r\n                  <td>\r\n                  <ButtonGroup variant=\"text\">\r\n\r\n                            {/* <Button  color=\"danger\" onClick={()=>handleDelete(dept?.id)}   className=\"mr-2 btn-sm\"><i className=\"fas fa-trash-alt\"></i></Button> */}\r\n                          \r\n                         <Button className=\"btn-sm mx-2\" onClick={()=>toggleDeleteModal(list)}  color=\"danger\"><i className=\"fas fa-trash-alt\"></i></Button>\r\n                       \r\n                      \r\n                         <Button color=\"warning\" onClick={()=> handleUpdateCountry(list)}    className=\" btn-sm\"> <i className=\"fas fa-edit\"></i> </Button>\r\n                       \r\n                          \r\n                          </ButtonGroup>\r\n\r\n                  {/* modal for delete */}\r\n                  <Modal isOpen={deleteModal}  className=\"uapp-modal\">\r\n\r\n                      <ModalBody>\r\n                        <p>Are You Sure to Delete this ? Once Deleted it can't be Undone!</p>\r\n                      </ModalBody>\r\n\r\n                      <ModalFooter>\r\n                        <Button color=\"danger\" onClick={deleteConfirm} disabled={buttonStatus} >YES</Button>\r\n                        <Button >NO</Button>\r\n                      </ModalFooter>\r\n\r\n                  </Modal>\r\n\r\n\r\n                  </td>\r\n                    \r\n                \r\n\r\n\r\n\r\n\r\n                </tr>)\r\n              }\r\n\r\n              \r\n\r\n            </tbody>\r\n          </Table>\r\n          </div>\r\n\r\n         </CardBody>\r\n      </Card>\r\n              </div>\r\n             }\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Nationality;"],"sourceRoot":""}