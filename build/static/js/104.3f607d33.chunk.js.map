{"version":3,"sources":["views/SMS/Components/ButtonForFunction.js","helpers/post.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/CardHeader.js","views/SMS/Components/LinkButton.js","../node_modules/reactstrap/es/ButtonGroup.js","views/SMS/UniversitySubjects/Department.jsx"],"names":["ButtonForFunction","className","icon","color","type","permission","func","url","name","onClick","body","authToken","Axios","post","rootUrl","res","response","status","history","push","_excluded","propTypes","tag","tagPropType","PropTypes","string","cssModule","object","innerRef","oneOfType","CardBody","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","inverse","bool","outline","Card","CardHeader","LinkButton","to","role","size","vertical","ButtonGroup","Department","useHistory","dispatch","useDispatch","useState","modalOpen","setModalOpen","deleteModal","setDeleteModal","success","setSuccess","addToast","useToasts","department","setdepartment","description","setDescription","departmentInfo","setDepartmentInfo","useEffect","get","then","console","log","closeModal","localStorage","removeItem","closeDeleteModal","length","isOpen","toggle","onSubmit","e","preventDefault","subdata","data","message","appearance","autoDismiss","row","md","id","onChange","target","value","placeholder","style","display","justifyContent","getItem","subData","UpdateDepartment","action","Ripple","textAlign","map","dept","index","key","scope","variant","setItem","toggleDanger","remove","newState","filter","handleDelete"],"mappings":"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","file":"static/js/104.3f607d33.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n   \r\n    Button,\r\n  \r\n  } from \"reactstrap\";\r\n\r\nconst ButtonForFunction = ({className, icon,color, permission, type,url, func, name}) => {\r\n    // const {className, icon} = props;\r\n\r\n    // console.log(className);\r\n    // console.log(url);\r\n\r\n    // console.log('Trying New Type of Props',func, className, icon, permission);\r\n\r\n\r\n    const data = [1,2,3,4,6];\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n          {/* {\r\n            data.includes(permission) ?  */}\r\n            <Button\r\n               onClick={func}\r\n               color={color}\r\n               type={type}\r\n               className={className}\r\n             >\r\n               {\" \"}\r\n               {icon}{name}{\" \"}\r\n            </Button>\r\n            {/* :\r\n            null\r\n          }    */}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ButtonForFunction;","import Axios from 'axios'\r\n\r\n\r\nimport history from './history'\r\nimport { rootUrl } from '../constants/constants'\r\n\r\n\r\nasync function post(url, body = {},authToken = \"\"){\r\n\r\n \r\n   \r\n   try {\r\n    const res = await Axios.post(`${rootUrl}${url}`,body,authToken || \"\")\r\n    return await res\r\n   }\r\n    catch (error) {\r\n\r\n        if(error?.response?.status  === 404){\r\n            history.push('/404')\r\n        }\r\n\r\n     \r\n\r\n        throw error\r\n   }\r\n   \r\n}\r\n\r\nexport default post\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"innerRef\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\n\r\nconst LinkButton = (props) => {\r\n    const {url, color, className, icon, permission, name, func} = props;\r\n\r\n    const data = [1,2,3,4,6];\r\n\r\n    // console.log(\"forLink\",url, color, className, icon);\r\n    return (\r\n        <>\r\n\r\n\r\n        <Link to={url}>\r\n       \r\n            <Button color={color} className={className} onClick={func}>\r\n               {icon} {name}\r\n            </Button>\r\n         \r\n        </Link>\r\n        \r\n            \r\n        </>\r\n    );\r\n};\r\n\r\nexport default LinkButton;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"size\", \"vertical\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  'aria-label': PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  role: PropTypes.string,\n  size: PropTypes.string,\n  vertical: PropTypes.bool\n};\nvar defaultProps = {\n  tag: 'div',\n  role: 'group'\n};\n\nvar ButtonGroup = function ButtonGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      vertical = props.vertical,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, size ? 'btn-group-' + size : false, vertical ? 'btn-group-vertical' : 'btn-group'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nButtonGroup.propTypes = propTypes;\nButtonGroup.defaultProps = defaultProps;\nexport default ButtonGroup;","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { useHistory } from 'react-router';\r\nimport { Card, CardBody, CardHeader, CardTitle,  Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, Col, Row, InputGroup, Table, ButtonGroup } from 'reactstrap';\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { useDispatch } from 'react-redux';\r\nimport {CreateDepartment, DeleteDepartment, GetDepartments, UpdateDepartment} from '../../../redux/actions/SMS/UniversitySubject/DepartmentAction';\r\nimport get from '../../../helpers/get';\r\nimport post from '../../../helpers/post';\r\nimport { Link } from 'react-router-dom';\r\nimport remove from '../../../helpers/remove';\r\nimport ButtonForFunction from '../Components/ButtonForFunction';\r\nimport LinkButton from '../Components/LinkButton';\r\n\r\n\r\n\r\n\r\nconst Department=(props)=>{\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [deleteModal, setDeleteModal] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const {addToast} = useToasts();\r\n    const [department,setdepartment] = useState('');\r\n    const [description,setDescription] = useState('');\r\n    const [departmentInfo, setDepartmentInfo] = useState([]);\r\n   \r\n \r\n    const [id,setId] = useState('');\r\n \r\n\r\n\r\n     // redirect to dashboard\r\n     const backToDashboard = () => {\r\n        history.push(\"/\")\r\n    }\r\n  \r\n    useEffect(()=>{\r\n\r\n        \r\n    get(`Department/index`)\r\n    .then(res =>{\r\n      console.log(res);\r\n      setDepartmentInfo(res);\r\n    } )\r\n    },[success])\r\n\r\n\r\n// on Close Modal\r\n   const closeModal = () => {\r\n    setModalOpen(false);\r\n    localStorage.removeItem('depId');\r\n    setdepartment('');\r\n  }\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const subdata = {\r\n      name: department,\r\n      description: description\r\n    }\r\n      post(`Department/Create`,subdata).then((res)=>{\r\n          setSuccess(!success)\r\n          setModalOpen(false)\r\n          console.log(res);\r\n          addToast(res?.data?.message, {\r\n            appearance:  'success',\r\n            autoDismiss: true,\r\n          })\r\n          get(`Department/index`)\r\n          .then(res =>{\r\n            console.log(res);\r\n            setDepartmentInfo(res);\r\n          } )\r\n          setdepartment('');\r\n      });\r\n\r\n\r\n      \r\n  }\r\n\r\n \r\n\r\n  \r\n\r\n\r\n  const toggleDanger = (name,id) => {\r\n    localStorage.setItem('depName',name)\r\n    localStorage.setItem('depId',id)\r\n    setDeleteModal(true)\r\n   }\r\n   // on Close Delete Modal\r\nconst closeDeleteModal = () => {\r\n    setDeleteModal(false);\r\n    localStorage.removeItem('depName')\r\n    localStorage.removeItem('depId')\r\n  \r\n  }\r\n\r\n  const handleDelete = (id) =>{\r\n    remove(`Department/Delete/${id}`)\r\n    .then(res => {\r\n      setDeleteModal(false);\r\n      addToast(res, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      const newState = departmentInfo.filter(data => data.id != id);\r\n      setDepartmentInfo(newState);\r\n\r\n    })\r\n  }\r\n\r\n  const handleDeleteUniType = (id) => {\r\n    // const returnValue = del(`${rootUrl}/Department/Delete/${id}`).then((action)=> {\r\n    //   setDeleteModal(false);\r\n    //   setSuccess(!success);\r\n    //    addToast(action, {\r\n    //      appearance: action === 'Department deleted successfully' ? 'warning': 'error',\r\n    //      autoDismiss: true,\r\n    //    })\r\n    //    localStorage.removeItem('depName')\r\n    //    localStorage.removeItem('depName')\r\n    // })\r\n\r\n    dispatch(DeleteDepartment(id, (action) => {\r\n      setDeleteModal(false);\r\n      setSuccess(!success);\r\n       addToast(action, {\r\n         appearance: action === 'Department deleted successfully' ? 'warning': 'error',\r\n         autoDismiss: true,\r\n       })\r\n       localStorage.removeItem('depName')\r\n       localStorage.removeItem('depName')\r\n    }))\r\n  }\r\n\r\n  const handleUpdateSubmit = () => {\r\n    const id = localStorage.getItem('updatedep');\r\n    const subData = {\r\n      id: id,\r\n      name: department\r\n    }\r\n  //  const returnvalue = update(`${rootUrl}/Department/Update`,subData).then((action)=> {\r\n  //     setSuccess(!success);\r\n  //     setModalOpen(false)\r\n  //     addToast(action, {\r\n  //       appearance: action =='Department updated successfully.' ? 'success': 'error',\r\n  //       autoDismiss: true,\r\n  //     })\r\n  //     setdepartment('');\r\n  //    localStorage.removeItem('depName')\r\n  \r\n  //   })\r\n\r\n    dispatch(UpdateDepartment(subData, (action) => {\r\n      setSuccess(!success);\r\n      setModalOpen(false)\r\n      addToast(action, {\r\n        appearance: action =='Department updated successfully.' ? 'success': 'error',\r\n        autoDismiss: true,\r\n      })\r\n      setdepartment('');\r\n     localStorage.removeItem('depName')\r\n    }))\r\n  \r\n  \r\n  }\r\nconst AddModalOpen= () => {\r\n    setModalOpen(true);\r\n    setdepartment('');\r\n    localStorage.removeItem('updatedep')\r\n}\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Card className=\"uapp-card-bg\">\r\n              <CardHeader className=\"page-header\">\r\n                <h3 className=\"text-light\">Department List</h3>\r\n                <div className=\"page-header-back-to-home\">\r\n                  <span onClick={backToDashboard} className=\"text-light\">\r\n                    {\" \"}\r\n                    <i className=\"fas fa-arrow-circle-left\"></i> Back to Dashboard\r\n                  </span>\r\n                </div>\r\n              </CardHeader>\r\n            </Card>\r\n\r\n\r\n        <Card>\r\n            <CardHeader>\r\n\r\n              <ButtonForFunction\r\n                func={AddModalOpen}\r\n                className={\"btn btn-uapp-add\"}\r\n                icon={<i className=\"fas fa-plus\"></i>}\r\n                name={\" Add New\"}\r\n                permission={6}\r\n              />\r\n\r\n                  <div> <b> Total <span className=\"badge badge-primary\"> {departmentInfo.length}</span> Department  Found </b></div>\r\n            </CardHeader>\r\n             <CardBody>\r\n\r\n             <div>\r\n\r\n<Modal isOpen={modalOpen} toggle={closeModal} className=\"uapp-modal\">\r\n  <ModalHeader>Add Department </ModalHeader>\r\n  <ModalBody>\r\n    <Form onSubmit={handleSubmit}>\r\n     \r\n      <FormGroup row className=\"has-icon-left position-relative\">\r\n        <Col md=\"4\">\r\n          <span>Department Name</span>\r\n        </Col>\r\n        <Col md=\"8\">\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n          \r\n            onChange={(e) => setdepartment(e.target.value)}\r\n            placeholder=\"Create Department\"\r\n          />\r\n\r\n        </Col>\r\n      </FormGroup>\r\n      <FormGroup row className=\"has-icon-left position-relative\">\r\n        <Col md=\"4\">\r\n          <span>Description</span>\r\n        </Col>\r\n        <Col md=\"8\">\r\n          <Input\r\n            type=\"text\"\r\n            name=\"description\"\r\n            id=\"description\"\r\n            \r\n            onChange={(e) => setDescription(e.target.value)}\r\n            placeholder=\"Add Description\"\r\n          />\r\n\r\n        </Col>\r\n      </FormGroup>\r\n\r\n      <FormGroup className=\"has-icon-left position-relative\" style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\r\n        <Button color=\"danger\" className=\"mr-1 mt-3\" onClick={closeModal}>Close</Button>\r\n\r\n        {\r\n        localStorage.getItem(\"updatedep\") ?\r\n          <Button color=\"warning\" onClick={handleUpdateSubmit}  className=\"mr-1 mt-3\">Update</Button> :\r\n          <Button.Ripple\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            className=\"mr-1 mt-3\"\r\n           \r\n          >\r\n            Submit\r\n          </Button.Ripple>\r\n\r\n      }\r\n\r\n      </FormGroup>\r\n\r\n    </Form>\r\n  </ModalBody>\r\n\r\n</Modal>\r\n<div>\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n<div className=\"table-responsive\">\r\n          <Table className=\"table-sm table-bordered\" >\r\n          <thead className=\"thead-uapp-bg\">\r\n              <tr style={{ textAlign: \"center\" }}>\r\n                <th>SL/NO</th>\r\n                <th>Department Name</th>\r\n                <th>Department Description</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                departmentInfo.map((dept,index) =><tr key={index}\r\n                dept ={dept} style={{ textAlign: \"center\" }}\r\n                >\r\n                  \r\n                  <th scope=\"row\">{index+1}</th>\r\n                  <td>{dept?.name}</td>\r\n                  <td>{dept?.description}</td>\r\n                  <td>\r\n                  <ButtonGroup variant=\"text\">\r\n\r\n                            {/* <Button  color=\"danger\" onClick={()=>handleDelete(dept?.id)}   className=\"mr-2 btn-sm\"><i className=\"fas fa-trash-alt\"></i></Button> */}\r\n                          \r\n                         {/* <Button className=\"btn-sm mx-2\" onClick={() => toggleDanger(dept.name, dept.id)} color=\"danger\"><i className=\"fas fa-trash-alt\"></i></Button> */}\r\n\r\n                         <ButtonForFunction\r\n                          func={() => toggleDanger(dept.name, dept.id)}\r\n                          className={\"btn-sm mx-2\"}\r\n                          color={\"danger\"}\r\n                          icon={<i className=\"fas fa-trash-alt\"></i>}\r\n                          permission={6}\r\n                         />\r\n                       \r\n                         {/* <Link to={`editDepartment/${dept?.id}`}>\r\n                         <Button color=\"warning\" className=\" btn-sm\"> <i className=\"fas fa-edit\"></i> </Button>\r\n                         </Link> */}\r\n\r\n                         <LinkButton\r\n                           url={`editDepartment/${dept?.id}`}\r\n                           color={\"warning\"}\r\n                           className={\" btn-sm\"}\r\n                           icon={<i className=\"fas fa-edit\"></i>}\r\n                           permission={6}\r\n                         />\r\n                          \r\n                          </ButtonGroup>\r\n\r\n                  {/* modal for delete */}\r\n                  <Modal isOpen={deleteModal} toggle={closeDeleteModal} className=\"uapp-modal\">\r\n\r\n                      <ModalBody>\r\n                        <p>Are You Sure to Delete this {localStorage.getItem('depName')} ? Once Deleted it can't be Undone!</p>\r\n                      </ModalBody>\r\n\r\n                      <ModalFooter>\r\n                        <Button color=\"danger\" onClick={() => handleDelete(localStorage.getItem('depId'))}>YES</Button>\r\n                        <Button onClick={closeDeleteModal}>NO</Button>\r\n                      </ModalFooter>\r\n\r\n                  </Modal>\r\n\r\n\r\n                  </td>\r\n                    \r\n                </tr>)\r\n              }\r\n\r\n              \r\n\r\n            </tbody>\r\n          </Table>\r\n          </div>\r\n\r\n         </CardBody>\r\n      </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Department;"],"sourceRoot":""}